# Text editor in Linux

In Linux, we sometimes need to create or edit a text file like writing a new perl script. So we need to use text editor. 

As a newbie, someone would prefer a basic, GUI-based text editor with menus and traditional CUA key bindings. Here we recommend [Sublime](https://www.sublimetext.com/), [ATOM](https://atom.io) and [Notepad++](https://notepad-plus-plus.org/). 

But GUI-based text editor is not always available in Linux. 

A powerful screen text editor `vi` (pronounced “vee-eye”) is available on nearly all Linux system. We highly recommend `vi` as a text editor, because something we’ll have to edit a text file on a system without a friendlier text editor. Once we get familiar with `vi`, we’ll find that it’s very fast and powerful. 

But remember, it’s OK if you think this part is too difficult at the beginning. You can use either `Sublime`, `ATOM` or `Notepad++`. If you are connecting to a Linux system without `Sublime`, `ATOM` and `Notepad++`, you can write the file in a local computer and then upload the file onto Linux system. 

## Basic vi skills

As `vi` uses a lot of combination of keystrokes, it may be not easy for newbies to remember all the combinations in one fell swoop. Considering this, we’ll first introduce the basic skills someone needs to know to use `vi`. We need to first understand how three modes of `vi` work and then try to remember a few basic `vi` commonds. Then we can use these skills to write Perl or R scripts in the following chaptors for Perl and R (Figure \@ref(fig:workingModeVi)). 

(ref:workingModeVi) Three modes of vi.

```{r workingModeVi, fig.cap='(ref:workingModeVi)', outwidth="100%", echo=FALSE}
knitr::include_graphics("figures/workingModeVi.png")
```

## Create new text file with `vi`

```{sh}
mkdir test_vi  ## generate a new folder
cd test_vi     ## go into the new folder
echo "Using \`ls\` we don't expect files in this folder."
ls 
echo "No file displayed!"
```

Using the code above, we made a new directory named `test_vi`. We didn't see any file. 

If we type `vi test.pl`, an empty file and screen are created into which you may enter text because the file does not exist((Figure \@ref(fig:ViNewFile))).


```
vi test.pl
```

(ref:ViNewFile) A screentshot of the `vi test.pl`.

```{r ViNewFile, fig.cap='(ref:ViNewFile)', out.width="100%", echo=FALSE, fig.align='center'}
knitr::include_graphics("images/vi_new_file.png")
```

Now if you are in `vi mode`. To go to `Input mode`, you can type `i`, 'a' or 'o' (Figure \@ref(fig:ViInpuMode)). 

(ref:ViInpuMode) A screentshot of the `vi test.pl`.

```{r ViInpuMode, fig.cap='(ref:ViInpuMode)', out.width="100%", echo=FALSE, fig.align='center'}
knitr::include_graphics("images/vi_input_mode.png")
```

Now you can type the content (codes or other information) (\@ref(fig:ViInpuType)).


(ref:ViInpuType) A screentshot of the `vi test.pl`.

```{r ViInpuType, fig.cap='(ref:ViInpuType)', out.width="100%", echo=FALSE, fig.align='center'}
knitr::include_graphics("images/vi_input_type.png")
```

Once you are done typing. You need to go to `Command mode`(Figure \@ref(fig:workingModeVi)) if you want to save and exit the file. To do this, you need to press `ESC` button on the keyboard. 




Now we just wrote a Perl script. We can run this script. 


```{sh}

perl test.pl
```


```{sh echo=F}
rm -rf test_vi ## remove the test_vi folder generated by last step
```


## An example for using editor R

```{r code=readLines("code_R/example4viEditor.R")}
```






